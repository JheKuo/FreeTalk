# 接口文档

先在 urls.py 里添加路径 (注意最后要添加反斜杠，可参考之前的)，再在views.py 增加同名类，类中定义 get 方法 (目前只用到了 get 方法，如果用到其他会特别说明)

` GetMaterialList`

- 描述：获取并返回全部学习材料列表
- 传入参数：无
- 返回值：` materialList[{id, name}]` (学习材料的列表，列表的元素是一个字典，有 id 和 name 两个 key，下同）

` BuildMaterial`

- 描述：创建学习材料并返回状态，需要记录哪个老师创建的，并给学习材料分配 id
- 传入参数：String userName, String materialName
- 返回值：成功返回 0，不成功返回 1（应该是都能成功）

` GetTeacherMaterialList`

- 描述：获取并返回某个老师创建的学习材料列表
- 传入参数：String userName
- 返回值：` myMaterialList[{id, name}]`

` DeleteMaterial`

- 描述：删除，注意要在学习材料表和课程-学习材料表都删除
- 传入参数：String userName, String id
- 返回值：成功返回 0，不成功返回 1

` GetCourseList`

- 描述：获取并返回全部课程列表
- 传入参数：无
- 返回值：` courseList[{id, name, materialIdString, materialNameString}]` （如果有多个学习材料，materialIdString 用一个中间用英文逗号分隔的字符串表示，如某课程有两个学习材料， id 为 1 和 2 ，则应为` 1,2`，materialNameString用一个中间用英文逗号分隔的字符串表示，如某课程有两个学习材料，name 为 材料1 和材料2，则应为` 材料1,材料2` ）

` GetTeacherCourseList`

- 描述：获取并返回某个老师的课程列表
- 传入参数：无
- 返回值：` myCourseList[{id, name, materialIdString}]` （如果有多个学习材料，materialIdString 用一个中间用英文逗号分隔的字符串表示，如某课程有两个学习材料， id 为 1 和 2 ，则应为` 1,2`，materialNameString用一个中间用英文逗号分隔的字符串表示，如某课程有两个学习材料，name 为 材料1 和材料2，则应为` 材料1,材料2` ）

` BuildCourse`

- 描述：创建课程并返回状态，需要记录哪个老师创建的，并给课程分配 id
- 传入参数：String userName, course {name, materialIdList} (传入的是一个字典，name 和 materialIdList 是key，其中，materialIdList 是一个存储学习材料的列表)
- 返回值：成功返回 0，不成功返回 1（应该是都能成功）

`CancelCourse`

- 描述：停课，注意要在课程表和学生选课表都删除
- 传入参数：String userName, String id
- 返回值：成功返回 0，不成功返回 1（不用返回课程列表了）

` GetCourseInfo`

- 不用了

## 11.19

新建实体：课程评价，键值可以自行编号

`GetCommentList`

- 描述：获得课程号为courseId的课程评价
- 传入参数：String courseId
- 返回值：课程评价列表 commentList[{userName（学号）, userNickName（姓名）, content（评价内容）, time（发表时间）}]，按time排序（字典序，格式已整理好），时间往后的在前。

`CommentCourse`

- 描述：添加课程评价
- 传入参数：String courseId, String userName, String userNickName, String content, String time 
- 返回值：成功返回 0，不成功返回 1（应该都成功）